;              
CREATE USER IF NOT EXISTS ADMIN SALT 'b45a11d81d9d8389' HASH 'fd1a78ab294bfb67e3fe8b96d7a13ae0c3d7f3c2b0ce07e2aee9fbe76c6719b5' ADMIN;         
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_867E6EE1_10E0_4672_BF29_B6F37F1A7034 START WITH 1 BELONGS_TO_TABLE;     
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_3FD9E708_C71D_43F8_BD16_FACE531E9143 START WITH 1 BELONGS_TO_TABLE;     
CREATE MEMORY TABLE PUBLIC.HOTELS(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_3FD9E708_C71D_43F8_BD16_FACE531E9143) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_3FD9E708_C71D_43F8_BD16_FACE531E9143,
    HOTEL_NAME VARCHAR(255) NOT NULL,
    ADDRESS VARCHAR(255) NOT NULL,
    CITY VARCHAR(64) NOT NULL,
    PINCODE VARCHAR(64) NOT NULL,
    RATING DECIMAL NOT NULL,
    CREATED_AT DATE DEFAULT NOW(),
    UPDATED_AT DATE DEFAULT NOW()
);           
ALTER TABLE PUBLIC.HOTELS ADD CONSTRAINT PUBLIC.CONSTRAINT_7 PRIMARY KEY(ID);  
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.HOTELS;   
CREATE MEMORY TABLE PUBLIC.ROOMS(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_867E6EE1_10E0_4672_BF29_B6F37F1A7034) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_867E6EE1_10E0_4672_BF29_B6F37F1A7034,
    ROOM_TYPE VARCHAR(64) NOT NULL,
    ROOM_TARIFF DECIMAL(18, 2) NOT NULL,
    OCCUPANCY INTEGER DEFAULT 1,
    ROOM_STATUS VARCHAR(64) NOT NULL,
    HOTEL_ID INTEGER NOT NULL,
    CREATED_AT DATE DEFAULT NOW(),
    UPDATED_AT DATE DEFAULT NOW()
);
ALTER TABLE PUBLIC.ROOMS ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(ID);   
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.ROOMS;    
ALTER TABLE PUBLIC.ROOMS ADD CONSTRAINT PUBLIC.CONSTRAINT_4A FOREIGN KEY(HOTEL_ID) REFERENCES PUBLIC.HOTELS(ID) NOCHECK;       
